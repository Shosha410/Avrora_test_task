<<<<<<< HEAD
# Avrora Automation Project

▌Описание проекта

Этот проект представляет собой фреймворк для автоматизированного тестирования веб-приложений с использованием Python, Selenium WebDriver и Pytest. Он организован по принципу Page Object Model (POM) для улучшения читаемости, поддерживаемости и повторного использования кода. Отчеты о выполнении тестов генерируются с помощью Allure.

▌Структура проекта
```
├── pages/      # Page Object Model (POM)
│ ├── welcome_page.py   # Класс для страницы приветствия/логина
│ ├── registration_page.py   # Класс для страницы регистрации
│ ├── authorization_page.py   # Класс для страницы авторизации (пока не используется, функционал в WelcomePage)
│ ├── main_page.py   # Класс для главного меню/профиля после авторизации
│ ├── base_page.py   # Базовый класс для всех страниц, содержит общие методы и обработку ошибок
│ └── __init__.py
├── tests/      # Автоматизированные тесты с Pytest
│ ├── conftest.py   # Pytest fixtures, настройки логирования, хуки
│ ├── __init__.py
│ ├── registration.py  # Тесты для функционала регистрации
│ └── authorization.py  # Тесты для функционала авторизации
├── utils/      # Вспомогательные функции и классы
│ ├── driver_factory.py  # Создание и управление драйвером Selenium
│ ├── helper.py  # Генерация случайных строк, работа с Allure отчетами, загрузка данных
│ └── __init__.py
├── config/      # Файлы конфигурации и тестовые данные
│ ├── test_data.json  # JSON-файл с тестовыми данными (например, URL)
│ └── test_data.py  # Python-файл с тестовыми данными (например, User-Agents)
├── run_tests/ 
│ └── acceptance_run_tests.py      # Точка входа для запуска тестов Pytest
├── .dockerignore  # Файлы и директории, которые будут игнорироваться при сборке Docker-образа
├── Dockerfile    # Определение Docker-образа для запуска тестов в контейнере
├── run.sh      # Скрипт для сборки Docker-образа и запуска тестов в контейнере
├── README.md    # Этот файл
└── requirements.txt # Список Python-зависимостей проекта

```

## Требования

Для запуска проекта на вашей локальной машине вам понадобится:

•  Python 3.10+
•  Docker (для запуска в контейнере)
•  Git (для клонирования репозитория)
•  Allure Commandline (для просмотра отчетов локально)

▌Установка

▌1. Клонирование репозитория
git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
cd avrora # или имя вашей директории

### 2. Установка Python зависимостей (только для локального запуска)

Если вы планируете запускать тесты локально (без Docker), установите зависимости:
python -m venv venv
source venv/bin/activate # Для Linux/macOS
# venv\Scripts\activate  # Для Windows
pip install -r requirements.txt

### 3. Установка Allure Commandline (для локального просмотра отчетов)

Для просмотра сгенерированных отчетов Allure вам нужно установить Allure Commandline Tool.

macOS (Homebrew):
brew install allure

Windows (Scoop):
scoop install allure

Linux (Debian/Ubuntu):
sudo apt-add-repository ppa:qameta/allure
sudo apt-get update 
sudo apt-get install allure

Или загрузите дистрибутив с официального сайта Allure (https://allurereport.org/docs/gettingstarted-installation/) и добавьте его в PATH.

▌Запуск тестов

Проект поддерживает запуск тестов как локально, так и в Docker-контейнере. Рекомендуется использовать Docker для обеспечения стабильности и воспроизводимости окружения.

▌1. Запуск тестов в Docker-контейнере (рекомендуется)

Этот метод автоматически собирает Docker-образ, запускает тесты внутри контейнера и копирует результаты Allure отчета на вашу хост-машину.

1. Сделайте скрипт исполняемым:
    chmod +x run.sh
2. Запустите скрипт:
    ./run.sh
Скрипт выполнит следующие шаги:
  •  Соберет Docker-образ avrora_tests на основе Dockerfile.
  •  Запустит контейнер, который выполнит тесты с помощью acceptance_run_tests.py.
  •  Дождется завершения тестов в контейнере.
  •  Скопирует сгенерированный Allure отчет (allure-report) из контейнера в текущую директорию (ту, откуда запущен run.sh).
  •  Остановит и удалит контейнер.

▌2. Запуск тестов локально (для разработки/отладки)

1. Активируйте виртуальное окружение:
    source venv/bin/activate # Для Linux/macOS
    # venv\Scripts\activate  # Для Windows
2. Запустите тесты:
    python run_tests/acceptance_run_tests.py
или напрямую через pytest, указывая опции:
    pytest -v --alluredir=./send_results/allure-results tests/registration.py tests/authorization.py --browser=chrome --headless
### 3. Просмотр Allure отчета

После завершения тестов (как в Docker, так и локально) отчет Allure будет сгенерирован в директории send_results/allure-report (или в корневой директории, если вы запускали через run.sh).

Для открытия отчета в браузере:
allure open ./allure-report

или, если отчет в send_results:
allure open ./send_results/allure-report

## Дизайн тест-кейсов

Здесь представлены основные тест-кейсы, реализованные в проекте.

▌1. Тесты регистрации

Feature: Регистрация новых пользователей

▍1.1. test_registration - Успешная регистрация нового пользователя

•  Название: Регистрация с валидными данными
•  Приоритет (Severity): BLOCKER
•  Предусловия:
  •  Доступно веб-приложение по адресу, указанному в config/test_data.json (login_url).
  •  Сгенерированы уникальные валидные данные для регистрации (имя, фамилия, логин, пароль) с помощью random_test_data fixture.
•  Шаги:
  1. Открыть страницу авторизации/приветствия.
  2. Убедиться, что заголовок страницы соответствует ожидаемому ("DEMOQA").
  3. Нажать на кнопку "New User" (ссылка на регистрацию).
  4. Ввести сгенерированные имя, фамилию, логин и пароль в соответствующие поля формы регистрации.
  5. (Опционально, закомментировано в коде) Нажать на чекбокс reCAPTCHA.
  6. (Опционально, закомментировано в коде) Нажать на кнопку "Register".
  7. Принять всплывающий Alert (сообщение об успешной регистрации).
  8. Сохранить сгенерированные логин и пароль в stash для последующих тестов авторизации.
•  Ожидаемый результат:
  •  Пользователь успешно регистрируется.
  •  Появляется и успешно обрабатывается alert об успешной регистрации.
  •  Регистрация проходит без видимых ошибок.

▌2. Тесты авторизации

Feature: Авторизация пользователей

▍2.1. test_authorization - Успешная авторизация зарегистрированного пользователя

•  Название: Авторизация с валидными данными
•  Приоритет (Severity): BLOCKER
•  Предусловия:
  •  Доступно веб-приложение по адресу, указанному в config/test_data.json (login_url).
  •  В stash из предыдущего теста test_registration должны быть сохранены валидные логин и пароль.
•  Шаги:
  1. Открыть страницу авторизации/приветствия.
  2. Ввести логин, полученный из stash, в поле "UserName".
  3. Ввести пароль, полученный из stash, в поле "Password".
  4. Нажать на кнопку "Login".
  5. Сделать скриншот страницы после авторизации.
•  Ожидаемый результат:
  •  Пользователь успешно авторизуется.
  •  Происходит переход на главную страницу (страницу профиля).
  •  На главной странице присутствует элемент с текстом "Log out", подтверждающий успешную авторизацию.
=======
# Avrora_test_task
>>>>>>> origin/main
